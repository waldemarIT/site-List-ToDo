# üìù To-Do List Manager

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–¥–∞–Ω—å –Ω–∞ Kotlin + Ktor (Backend) + React (Frontend) + Supabase PostgreSQL (Database).

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Backend**: Kotlin, Ktor 3.3.2
- **Frontend**: React 18 (vanilla JS –∑ CDN)
- **Database**: Supabase PostgreSQL
- **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**: REST API

## ‚ú® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
- ‚úÖ –ü–æ–∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω—ñ/–Ω–µ–≤–∏–∫–æ–Ω–∞–Ω—ñ
- üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å—å–æ–≥–æ/–∞–∫—Ç–∏–≤–Ω—ñ/–≤–∏–∫–æ–Ω–∞–Ω—ñ)
- üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ —Ö–º–∞—Ä–Ω—ñ–π –ë–î
- üé® –ö—Ä–∞—Å–∏–≤–∏–π UI –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞–º–∏

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
```bash
git clone https://github.com/waldemarIT/my-ktor-site.git
cd my-ktor-site
```

### 2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Supabase

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [Supabase](https://supabase.com)
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL –∑–∞–ø–∏—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ:

```sql
CREATE TABLE tasks (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title TEXT NOT NULL,
  completed BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now())
);
```

3. –°–∫–æ–ø—ñ—é–π—Ç–µ `src/main/kotlin/config/SupabaseConfig.example.kt` ‚Üí `SupabaseConfig.kt`
4. –í—Å—Ç–∞–≤—Ç–µ —Å–≤–æ—ó credentials –∑ Supabase Dashboard ‚Üí Settings ‚Üí API:
   - Project URL
   - anon/public key

### 3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
./gradlew run
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:8080

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
src/main/kotlin/
‚îú‚îÄ‚îÄ Application.kt          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É, CORS –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ Routing.kt             # REST API endpoints
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ SupabaseConfig.kt  # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î (–Ω–µ –≤ git!)
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ Task.kt            # Data classes
‚îî‚îÄ‚îÄ repository/
    ‚îî‚îÄ‚îÄ TaskRepository.kt  # –†–æ–±–æ—Ç–∞ –∑ –ë–î

src/main/resources/static/
‚îî‚îÄ‚îÄ index.html             # React Frontend
```

## üîê –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –§–∞–π–ª `SupabaseConfig.kt` –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Git!

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ —Å—Ç–≤–æ—Ä—ñ—Ç—å –π–æ–≥–æ –∑ —à–∞–±–ª–æ–Ω—É `SupabaseConfig.example.kt`

## üìù API Endpoints

- `GET /api/tasks` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
- `GET /api/tasks/{id}` - –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –∑–∞ ID
- `POST /api/tasks` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è
- `PUT /api/tasks/{id}` - –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
- `DELETE /api/tasks/{id}` - –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è

## Features

| Name                                                                   | Description                                                                        |
| ------------------------------------------------------------------------|------------------------------------------------------------------------------------ |
| [Routing](https://start.ktor.io/p/routing)                             | Provides a structured routing DSL                                                  |
| [Static Content](https://start.ktor.io/p/static-content)               | Serves static files from defined locations                                         |
| [HTML DSL](https://start.ktor.io/p/html-dsl)                           | Generates HTML from Kotlin DSL                                                     |
| [Content Negotiation](https://start.ktor.io/p/content-negotiation)     | Provides automatic content conversion according to Content-Type and Accept headers |
| [kotlinx.serialization](https://start.ktor.io/p/kotlinx-serialization) | Handles JSON serialization using kotlinx.serialization library                     |

## Building & Running

To build or run the project, use one of the following tasks:

| Task                                    | Description                                                          |
| -----------------------------------------|---------------------------------------------------------------------- |
| `./gradlew test`                        | Run the tests                                                        |
| `./gradlew build`                       | Build everything                                                     |
| `./gradlew buildFatJar`                 | Build an executable JAR of the server with all dependencies included |
| `./gradlew buildImage`                  | Build the docker image to use with the fat JAR                       |
| `./gradlew publishImageToLocalRegistry` | Publish the docker image locally                                     |
| `./gradlew run`                         | Run the server                                                       |
| `./gradlew runDocker`                   | Run using the local docker image                                     |

If the server starts successfully, you'll see the following output:

```
2024-12-04 14:32:45.584 [main] INFO  Application - Application started in 0.303 seconds.
2024-12-04 14:32:45.682 [main] INFO  Application - Responding at http://0.0.0.0:8080
```

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

[waldemarIT](https://github.com/waldemarIT)

